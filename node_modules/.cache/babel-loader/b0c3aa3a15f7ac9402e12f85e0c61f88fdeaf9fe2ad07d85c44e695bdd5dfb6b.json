{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"UpdateComments\",\n  props: {\n    id: Number\n  },\n  data() {\n    return {\n      showModal: false,\n      commentInput: false,\n      comment: [],\n      newContent: \"\",\n      model: {\n        content: \"\"\n      }\n    };\n  },\n  methods: {\n    postData() {\n      try {\n        axios.get(`http://localhost:8081/wp-json/wp/v2/comments?post=${this.id}`).then(res => this.comment = res.data);\n      } catch (error) {\n        if (error.status == 403 || error.status == 401) {\n          this.$router.push(\"/login\");\n        }\n      }\n    },\n    async modifierCommentaire(id) {\n      try {\n        await axios.post(`http://localhost:8081/wp-json/wp/v2/comments/${id}`, {\n          content: this.newContent\n        }, {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"wp\")\n          }\n        });\n        this.commentInput = false;\n        this.postData();\n      } catch (error) {\n        if (error.status == 403 || error.status == 401) {\n          this.$router.push(\"/login\");\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","props","id","Number","data","showModal","commentInput","comment","newContent","model","content","methods","postData","get","then","res","error","status","$router","push","modifierCommentaire","post","headers","Authorization","localStorage","getItem"],"sources":["/home/florentin/C-DEV-121-ABJ-1-2-twp-wilfried.konan/wello/src/components/UpdateComment.vue"],"sourcesContent":["<template>\n  <form\n    @submit.prevent=\"modifierCommentaire(comments.id)\"\n    class=\"w-full relative flex justify-between gap-2\"\n  >\n    <input\n      type=\"text\"\n      class=\"w-full py-3 px-5 rounded-lg border border-gray-300 bg-white shadow-[0px_1px_2px_0px_rgba(16,_24,_40,_0.05)] focus:outline-none text-gray-900 placeholder-gray-400 text-lg font-normal leading-relaxed\"\n      placeholder=\"Write comments here....\"\n      v-model=\"newContent\"\n      required\n    />\n    <button type=\"submit\" class=\"absolute right-6 top-[18px]\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 20 20\"\n        fill=\"none\"\n      >\n        <path\n          d=\"M11.3011 8.69906L8.17808 11.8221M8.62402 12.5909L8.79264 12.8821C10.3882 15.638 11.1859 17.016 12.2575 16.9068C13.3291 16.7977 13.8326 15.2871 14.8397 12.2661L16.2842 7.93238C17.2041 5.17273 17.6641 3.79291 16.9357 3.06455C16.2073 2.33619 14.8275 2.79613 12.0679 3.71601L7.73416 5.16058C4.71311 6.16759 3.20259 6.6711 3.09342 7.7427C2.98425 8.81431 4.36221 9.61207 7.11813 11.2076L7.40938 11.3762C7.79182 11.5976 7.98303 11.7083 8.13747 11.8628C8.29191 12.0172 8.40261 12.2084 8.62402 12.5909Z\"\n          stroke=\"#111827\"\n          stroke-width=\"1.6\"\n          stroke-linecap=\"round\"\n        />\n      </svg>\n    </button>\n  </form>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"UpdateComments\",\n  props: {\n    id: Number,\n  },\n  data() {\n    return {\n      showModal: false,\n      commentInput: false,\n      comment: [],\n      newContent: \"\",\n      model: {\n        content: \"\",\n      },\n    };\n  },\n  methods: {\n    postData() {\n      try {\n        axios\n          .get(`http://localhost:8081/wp-json/wp/v2/comments?post=${this.id}`)\n          .then((res) => (this.comment = res.data));\n      } catch (error) {\n        if (error.status == 403 || error.status == 401) {\n          this.$router.push(\"/login\");\n        }\n      }\n    },\n    async modifierCommentaire(id) {\n      try {\n        await axios.post(\n          `http://localhost:8081/wp-json/wp/v2/comments/${id}`,\n          {\n            content: this.newContent,\n          },\n          {\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem(\"wp\"),\n            },\n          }\n        );\n        this.commentInput = false;\n        this.postData();\n      } catch (error) {\n        if (error.status == 403 || error.status == 401) {\n          this.$router.push(\"/login\");\n        }\n      }\n    },\n  },\n};\n</script>\n"],"mappings":";AAgCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,gBAAgB;EACtBC,KAAK,EAAE;IACLC,EAAE,EAAEC;EACN,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE,KAAK;MACnBC,OAAO,EAAE,EAAE;MACXC,UAAU,EAAE,EAAE;MACdC,KAAK,EAAE;QACLC,OAAO,EAAE;MACX;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQA,CAAA,EAAG;MACT,IAAI;QACFb,KAAI,CACDc,GAAG,CAAC,qDAAqD,IAAI,CAACX,EAAE,EAAE,EAClEY,IAAI,CAAEC,GAAG,IAAM,IAAI,CAACR,OAAM,GAAIQ,GAAG,CAACX,IAAK,CAAC;MAC7C,EAAE,OAAOY,KAAK,EAAE;QACd,IAAIA,KAAK,CAACC,MAAK,IAAK,GAAE,IAAKD,KAAK,CAACC,MAAK,IAAK,GAAG,EAAE;UAC9C,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;QAC7B;MACF;IACF,CAAC;IACD,MAAMC,mBAAmBA,CAAClB,EAAE,EAAE;MAC5B,IAAI;QACF,MAAMH,KAAK,CAACsB,IAAI,CACd,gDAAgDnB,EAAE,EAAE,EACpD;UACEQ,OAAO,EAAE,IAAI,CAACF;QAChB,CAAC,EACD;UACEc,OAAO,EAAE;YACPC,aAAa,EAAE,SAAQ,GAAIC,YAAY,CAACC,OAAO,CAAC,IAAI;UACtD;QACF,CACF,CAAC;QACD,IAAI,CAACnB,YAAW,GAAI,KAAK;QACzB,IAAI,CAACM,QAAQ,CAAC,CAAC;MACjB,EAAE,OAAOI,KAAK,EAAE;QACd,IAAIA,KAAK,CAACC,MAAK,IAAK,GAAE,IAAKD,KAAK,CAACC,MAAK,IAAK,GAAG,EAAE;UAC9C,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;QAC7B;MACF;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}