{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport AddCategory from \"@/components/AddCategory.vue\";\nimport ModalCategorie from \"./ModalCategorie.vue\";\nimport PostComponent from \"./PostComponent.vue\";\nimport NavBar from \"./NavBar.vue\";\nimport AddPost from \"./AddPost.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"ListView\",\n  components: {\n    AddCategory,\n    ModalCategorie,\n    PostComponent,\n    AddPost,\n    NavBar\n  },\n  computed: {\n    ...mapGetters(\"cate\", [\"allcate\"]),\n    ...mapGetters(\"post\", [\"allpost\"])\n  },\n  data: function () {\n    return {\n      bg: [\"bg-yellow-500\", \"bg-green-500\", \"bg-cyan-500\", \"bg-red-500\"],\n      post: [],\n      menu: false,\n      model: {\n        title: \"\",\n        description: \"\"\n      }\n    };\n  },\n  methods: {\n    ...mapActions(\"post\", [\"getPost\"]),\n    ...mapActions(\"cate\", [\"getCat\"]),\n    onDrop(event, id) {\n      let ids = event.dataTransfer.getData(\"postID\");\n      const post = this.allpost.find(posts => posts.id == ids);\n      console.log(post.id);\n      console.log(id);\n      const cate = this.allcate.find(cat => cat.id == id);\n      axios.put(`http://localhost:8081/wp-json/wp/v2/posts/${post.id}`, {\n        categories: cate.id\n      }, {\n        headers: {\n          Authorization: \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODEiLCJpYXQiOjE3Mzc2NTgwMjAsIm5iZiI6MTczNzY1ODAyMCwiZXhwIjoxNzM4MjYyODIwLCJkYXRhIjp7InVzZXIiOnsiaWQiOiIxIn19fQ.fJZ7r_iTQz24GtWsT3RJkt2pwLCG0jpJJnt6D2yMa4o\"\n        }\n      }).then(res => {\n        console.log(res);\n        this.$store.dispatch(\"cate/getCat\");\n        this.$store.dispatch(\"post/getPost\");\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    addColor() {\n      let color = this.bg[Math.floor(Math.random() * this.bg.length)];\n      return color;\n    }\n  },\n  created() {\n    this.$store.dispatch(\"cate/getCat\");\n  }\n};","map":{"version":3,"names":["mapActions","mapGetters","AddCategory","ModalCategorie","PostComponent","NavBar","AddPost","axios","name","components","computed","data","bg","post","menu","model","title","description","methods","onDrop","event","id","ids","dataTransfer","getData","allpost","find","posts","console","log","cate","allcate","cat","put","categories","headers","Authorization","then","res","$store","dispatch","catch","err","addColor","color","Math","floor","random","length","created"],"sources":["/home/florentin/trello/my-vue-project/src/components/ListView.vue"],"sourcesContent":["<template>\n  <NavBar />\n  <div class=\"bg-slate-500\">\n    <div class=\"flex items-start space-x-2 overflow-x-auto pl-20 pt-10\">\n      <div\n        class=\"px-5 py-5 bg-black rounded-xl\"\n        v-for=\"cat in allcate\"\n        v-bind:key=\"cat.id\"\n      >\n        <div class=\"flex justify-between mb-4 w-[250px]\">\n          <div class=\"text-slate-300 text-sm font-bold p-1 rounded-md\">\n            <div class=\"rounded-sm text-[18px] hover:cursor-pointer\">\n              {{ cat.name }}\n            </div>\n          </div>\n          <div class=\"flex space-x-2 text-white\">\n            <p class=\"bg-slate-400 w-6 h-6 rounded-full\">{{ cat.count }}</p>\n            <ModalCategorie :id=\"cat.id\" />\n          </div>\n        </div>\n        <div\n          class=\"rounded-lg shadow-sm hover:shadow-md transition-all duration-300 animate-fade-in w-[250px] h-10\"\n          v-bind:class=\"addColor()\"\n        >\n          <div class=\"mt-2 overflow-y-auto\">\n            <div class=\"rounded-lg hover:cursor-pointer\">\n              <div class=\"\">\n                <div class=\"flex justify-center text-center items-center\">\n                  <p\n                    class=\"px-3 py-1 text-md select-none font-semibold overflow-hidden text-white truncate\"\n                  >\n                    {{ cat.name }}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <!--p>\n          {{ post.content.rendered.replace(/<[^>]+>/g, \"\") }}\n      </p-->\n          </div>\n        </div>\n        <div\n          class=\"h-5\"\n          @dragenter.prevent\n          @dragover.prevent\n          @drop=\"onDrop($event, cat.id)\"\n        >\n          <PostComponent :id=\"cat.id\" />\n          <AddPost :id=\"cat.id\" />\n        </div>\n      </div>\n      <AddCategory />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\nimport AddCategory from \"@/components/AddCategory.vue\";\nimport ModalCategorie from \"./ModalCategorie.vue\";\nimport PostComponent from \"./PostComponent.vue\";\nimport NavBar from \"./NavBar.vue\";\nimport AddPost from \"./AddPost.vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"ListView\",\n  components: {\n    AddCategory,\n    ModalCategorie,\n    PostComponent,\n    AddPost,\n    NavBar,\n  },\n  computed: {\n    ...mapGetters(\"cate\", [\"allcate\"]),\n    ...mapGetters(\"post\", [\"allpost\"]),\n  },\n  data: function () {\n    return {\n      bg: [\"bg-yellow-500\", \"bg-green-500\", \"bg-cyan-500\", \"bg-red-500\"],\n      post: [],\n      menu: false,\n      model: {\n        title: \"\",\n        description: \"\",\n      },\n    };\n  },\n\n  methods: {\n    ...mapActions(\"post\", [\"getPost\"]),\n    ...mapActions(\"cate\", [\"getCat\"]),\n    onDrop(event, id) {\n      let ids = event.dataTransfer.getData(\"postID\");\n      const post = this.allpost.find((posts) => posts.id == ids);\n      console.log(post.id);\n      console.log(id);\n      const cate = this.allcate.find((cat) => cat.id == id);\n      axios\n        .put(\n          `http://localhost:8081/wp-json/wp/v2/posts/${post.id}`,\n          {\n            categories: cate.id,\n          },\n          {\n            headers: {\n              Authorization:\n                \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODEiLCJpYXQiOjE3Mzc2NTgwMjAsIm5iZiI6MTczNzY1ODAyMCwiZXhwIjoxNzM4MjYyODIwLCJkYXRhIjp7InVzZXIiOnsiaWQiOiIxIn19fQ.fJZ7r_iTQz24GtWsT3RJkt2pwLCG0jpJJnt6D2yMa4o\",\n            },\n          }\n        )\n        .then((res) => {\n          console.log(res);\n          this.$store.dispatch(\"cate/getCat\");\n          this.$store.dispatch(\"post/getPost\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    addColor() {\n      let color = this.bg[Math.floor(Math.random() * this.bg.length)];\n      return color;\n    },\n  },\n  created() {\n    this.$store.dispatch(\"cate/getCat\");\n  },\n};\n</script>\n"],"mappings":";;AAyDA,SAASA,UAAU,EAAEC,UAAS,QAAS,MAAM;AAC7C,OAAOC,WAAU,MAAO,8BAA8B;AACtD,OAAOC,cAAa,MAAO,sBAAsB;AACjD,OAAOC,aAAY,MAAO,qBAAqB;AAC/C,OAAOC,MAAK,MAAO,cAAc;AACjC,OAAOC,OAAM,MAAO,eAAe;AACnC,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVP,WAAW;IACXC,cAAc;IACdC,aAAa;IACbE,OAAO;IACPD;EACF,CAAC;EACDK,QAAQ,EAAE;IACR,GAAGT,UAAU,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,CAAC;IAClC,GAAGA,UAAU,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC;EACnC,CAAC;EACDU,IAAI,EAAE,SAAAA,CAAA,EAAY;IAChB,OAAO;MACLC,EAAE,EAAE,CAAC,eAAe,EAAE,cAAc,EAAE,aAAa,EAAE,YAAY,CAAC;MAClEC,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE,KAAK;MACXC,KAAK,EAAE;QACLC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE;MACf;IACF,CAAC;EACH,CAAC;EAEDC,OAAO,EAAE;IACP,GAAGlB,UAAU,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,CAAC;IAClC,GAAGA,UAAU,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC;IACjCmB,MAAMA,CAACC,KAAK,EAAEC,EAAE,EAAE;MAChB,IAAIC,GAAE,GAAIF,KAAK,CAACG,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;MAC9C,MAAMX,IAAG,GAAI,IAAI,CAACY,OAAO,CAACC,IAAI,CAAEC,KAAK,IAAKA,KAAK,CAACN,EAAC,IAAKC,GAAG,CAAC;MAC1DM,OAAO,CAACC,GAAG,CAAChB,IAAI,CAACQ,EAAE,CAAC;MACpBO,OAAO,CAACC,GAAG,CAACR,EAAE,CAAC;MACf,MAAMS,IAAG,GAAI,IAAI,CAACC,OAAO,CAACL,IAAI,CAAEM,GAAG,IAAKA,GAAG,CAACX,EAAC,IAAKA,EAAE,CAAC;MACrDd,KAAI,CACD0B,GAAG,CACF,6CAA6CpB,IAAI,CAACQ,EAAE,EAAE,EACtD;QACEa,UAAU,EAAEJ,IAAI,CAACT;MACnB,CAAC,EACD;QACEc,OAAO,EAAE;UACPC,aAAa,EACX;QACJ;MACF,CACF,EACCC,IAAI,CAAEC,GAAG,IAAK;QACbV,OAAO,CAACC,GAAG,CAACS,GAAG,CAAC;QAChB,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,aAAa,CAAC;QACnC,IAAI,CAACD,MAAM,CAACC,QAAQ,CAAC,cAAc,CAAC;MACtC,CAAC,EACAC,KAAK,CAAEC,GAAG,IAAK;QACdd,OAAO,CAACC,GAAG,CAACa,GAAG,CAAC;MAClB,CAAC,CAAC;IACN,CAAC;IACDC,QAAQA,CAAA,EAAG;MACT,IAAIC,KAAI,GAAI,IAAI,CAAChC,EAAE,CAACiC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,IAAI,IAAI,CAACnC,EAAE,CAACoC,MAAM,CAAC,CAAC;MAC/D,OAAOJ,KAAK;IACd;EACF,CAAC;EACDK,OAAOA,CAAA,EAAG;IACR,IAAI,CAACV,MAAM,CAACC,QAAQ,CAAC,aAAa,CAAC;EACrC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}