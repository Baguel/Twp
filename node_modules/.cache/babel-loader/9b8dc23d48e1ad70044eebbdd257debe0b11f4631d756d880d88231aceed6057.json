{"ast":null,"code":"import axios from \"axios\";\nimport { mapActions, mapGetters } from \"vuex\";\nexport default {\n  name: \"DeletePost\",\n  props: {\n    id: Number\n  },\n  computed: {\n    ...mapGetters(\"post\", [\"allpost\"]),\n    ...mapGetters(\"cate\", [\"allcate\"])\n  },\n  data() {\n    return {\n      show: false\n    };\n  },\n  methods: {\n    ...mapActions(\"post\", [\"getPost\"]),\n    ...mapActions(\"cate\", [\"getCat\"]),\n    async deletepost() {\n      await axios.delete(\"http://localhost:8081/wp-json/wp/v2/posts/\" + this.id, {\n        headers: {\n          Authorization: \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODEiLCJpYXQiOjE3Mzc2NDc5NzEsIm5iZiI6MTczNzY0Nzk3MSwiZXhwIjoxNzM4MjUyNzcxLCJkYXRhIjp7InVzZXIiOnsiaWQiOiIxIn19fQ.vaUBWCHj9GslY_7b4wM2Q76cjhqFCnGYcDMEORM1i8A\"\n        }\n      }).then(res => {\n        console.log(res);\n        this.$store.dispatch(\"post/getPost\");\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","mapActions","mapGetters","name","props","id","Number","computed","data","show","methods","deletepost","delete","headers","Authorization","then","res","console","log","$store","dispatch","catch","error"],"sources":["/home/florentin/trello/my-vue-project/src/components/DeletePost.vue"],"sourcesContent":["<template>\n  <div @click=\"show = true\" class=\"mt-2 flex justify-end\">\n    <button class=\"bg-red-500 p-2 text-white font-semibold rounded-md\">\n      Delete\n    </button>\n  </div>\n  <div v-if=\"show\">\n    <div\n      class=\"fixed inset-0 p-4 flex flex-wrap justify-center items-center w-full h-full z-[1000] before:fixed before:inset-0 before:w-full before:h-full before:bg-[rgba(0,0,0,0.5)] overflow-auto font-[sans-serif]\"\n    >\n      <div class=\"w-full max-w-lg bg-white shadow-lg rounded-lg p-6 relative\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"w-3.5 cursor-pointer shrink-0 fill-gray-400 hover:fill-red-500 float-right\"\n          viewBox=\"0 0 320.591 320.591\"\n          @click=\"show = false\"\n        >\n          <path\n            d=\"M30.391 318.583a30.37 30.37 0 0 1-21.56-7.288c-11.774-11.844-11.774-30.973 0-42.817L266.643 10.665c12.246-11.459 31.462-10.822 42.921 1.424 10.362 11.074 10.966 28.095 1.414 39.875L51.647 311.295a30.366 30.366 0 0 1-21.256 7.288z\"\n            data-original=\"#000000\"\n          ></path>\n          <path\n            d=\"M287.9 318.583a30.37 30.37 0 0 1-21.257-8.806L8.83 51.963C-2.078 39.225-.595 20.055 12.143 9.146c11.369-9.736 28.136-9.736 39.504 0l259.331 257.813c12.243 11.462 12.876 30.679 1.414 42.922-.456.487-.927.958-1.414 1.414a30.368 30.368 0 0 1-23.078 7.288z\"\n            data-original=\"#000000\"\n          ></path>\n        </svg>\n\n        <div class=\"my-4 text-center\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            class=\"w-14 fill-red-500 inline\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              d=\"M19 7a1 1 0 0 0-1 1v11.191A1.92 1.92 0 0 1 15.99 21H8.01A1.92 1.92 0 0 1 6 19.191V8a1 1 0 0 0-2 0v11.191A3.918 3.918 0 0 0 8.01 23h7.98A3.918 3.918 0 0 0 20 19.191V8a1 1 0 0 0-1-1Zm1-3h-4V2a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2H4a1 1 0 0 0 0 2h16a1 1 0 0 0 0-2ZM10 4V3h4v1Z\"\n              data-original=\"#000000\"\n            />\n            <path\n              d=\"M11 17v-7a1 1 0 0 0-2 0v7a1 1 0 0 0 2 0Zm4 0v-7a1 1 0 0 0-2 0v7a1 1 0 0 0 2 0Z\"\n              data-original=\"#000000\"\n            />\n          </svg>\n          <h4 class=\"text-gray-800 text-base font-semibold mt-4\">\n            Are you sure you want to delete it?\n          </h4>\n\n          <div class=\"text-center space-x-4 mt-8\">\n            <button\n              type=\"button\"\n              class=\"px-4 py-2 rounded-lg text-gray-800 text-sm bg-gray-200 hover:bg-gray-300 active:bg-gray-200\"\n              @click=\"show = false\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"button\"\n              class=\"px-4 py-2 rounded-lg text-white text-sm bg-red-600 hover:bg-red-700 active:bg-red-600\"\n              @click=\"deletepost\"\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { mapActions, mapGetters } from \"vuex\";\n\nexport default {\n  name: \"DeletePost\",\n  props: {\n    id: Number,\n  },\n  computed: {\n    ...mapGetters(\"post\", [\"allpost\"]),\n    ...mapGetters(\"cate\", [\"allcate\"]),\n  },\n  data() {\n    return {\n      show: false,\n    };\n  },\n  methods: {\n    ...mapActions(\"post\", [\"getPost\"]),\n    ...mapActions(\"cate\", [\"getCat\"]),\n    async deletepost() {\n      await axios\n        .delete(\"http://localhost:8081/wp-json/wp/v2/posts/\" + this.id, {\n          headers: {\n            Authorization:\n              \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODEiLCJpYXQiOjE3Mzc2NDc5NzEsIm5iZiI6MTczNzY0Nzk3MSwiZXhwIjoxNzM4MjUyNzcxLCJkYXRhIjp7InVzZXIiOnsiaWQiOiIxIn19fQ.vaUBWCHj9GslY_7b4wM2Q76cjhqFCnGYcDMEORM1i8A\",\n          },\n        })\n        .then((res) => {\n          console.log(res);\n          this.$store.dispatch(\"post/getPost\");\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>\n"],"mappings":"AAqEA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,UAAU,EAAEC,UAAS,QAAS,MAAM;AAE7C,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE;IACLC,EAAE,EAAEC;EACN,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGL,UAAU,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,CAAC;IAClC,GAAGA,UAAU,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC;EACnC,CAAC;EACDM,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,GAAGT,UAAU,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,CAAC;IAClC,GAAGA,UAAU,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC;IACjC,MAAMU,UAAUA,CAAA,EAAG;MACjB,MAAMX,KAAI,CACPY,MAAM,CAAC,4CAA2C,GAAI,IAAI,CAACP,EAAE,EAAE;QAC9DQ,OAAO,EAAE;UACPC,aAAa,EACX;QACJ;MACF,CAAC,EACAC,IAAI,CAAEC,GAAG,IAAK;QACbC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChB,IAAI,CAACG,MAAM,CAACC,QAAQ,CAAC,cAAc,CAAC;MACtC,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;QAChBL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;MACpB,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}