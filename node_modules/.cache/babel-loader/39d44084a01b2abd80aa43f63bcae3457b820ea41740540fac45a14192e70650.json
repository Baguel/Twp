{"ast":null,"code":"import axios from \"axios\";\nimport { mapActions } from \"vuex\";\nexport default {\n  name: \"CommentView\",\n  props: {\n    id: Number\n  },\n  data() {\n    return {\n      showModal: false,\n      model: {\n        content: \"\"\n      }\n    };\n  },\n  methods: {\n    ...mapActions(\"post\", [\"getPost\"]),\n    ...mapActions(\"cate\", [\"getCat\"]),\n    async ajouterCommentaire() {\n      try {\n        await axios.post(\"http://localhost/wp-json/wp/v2/comments\", {\n          post: this.id,\n          // ID du post associé au commentaire\n          // author_name: this.nom,\n          content: this.model.content\n        }, {\n          headers: {\n            Authorization: \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODEiLCJpYXQiOjE3Mzc2NDc5NzEsIm5iZiI6MTczNzY0Nzk3MSwiZXhwIjoxNzM4MjUyNzcxLCJkYXRhIjp7InVzZXIiOnsiaWQiOiIxIn19fQ.vaUBWCHj9GslY_7b4wM2Q76cjhqFCnGYcDMEORM1i8A\"\n          }\n        });\n        this.model.content = \"\";\n      } catch (error) {\n        console.error(\"Erreur lors de l'ajout du commentaire:\", error);\n      }\n    },\n    async AddPost() {\n      await axios.post(\"http://localhost:8081/wp-json/wp/v2/posts\", {\n        title: this.model.title,\n        content: this.model.description,\n        categories: this.id,\n        status: \"publish\"\n      }, {\n        headers: {\n          Authorization: \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODEiLCJpYXQiOjE3Mzc2NDc5NzEsIm5iZiI6MTczNzY0Nzk3MSwiZXhwIjoxNzM4MjUyNzcxLCJkYXRhIjp7InVzZXIiOnsiaWQiOiIxIn19fQ.vaUBWCHj9GslY_7b4wM2Q76cjhqFCnGYcDMEORM1i8A\"\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.showModal = false;\n        this.model.title = \"\";\n        this.model.description = \"\";\n        this.$store.dispatch(\"post/getPost\");\n        this.$store.dispatch(\"cate/getCat\");\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","mapActions","name","props","id","Number","data","showModal","model","content","methods","ajouterCommentaire","post","headers","Authorization","error","console","AddPost","title","description","categories","status","then","res","log","$store","dispatch","catch","err"],"sources":["/home/florentin/trello/my-vue-project/src/components/CommentView.vue"],"sourcesContent":["<template>\n  <div class=\"space-y-5\">\n    <!-- component -->\n    <div class=\"flex justify-center relative top-1/3\">\n      <!-- This is an example component -->\n      <div\n        class=\"relative grid grid-cols-1 gap-4 p-4 mb-8 border rounded-lg bg-white shadow-lg\"\n      >\n        <div class=\"relative flex gap-4\">\n          <img\n            src=\"https://icons.iconarchive.com/icons/diversity-avatars/avatars/256/charlie-chaplin-icon.png\"\n            class=\"relative rounded-lg -top-8 -mb-4 bg-white border h-20 w-20\"\n            alt=\"\"\n            loading=\"lazy\"\n          />\n          <div class=\"flex flex-col w-full\">\n            <div class=\"flex flex-row justify-between\">\n              <p\n                class=\"relative text-xl whitespace-nowrap truncate overflow-hidden\"\n              >\n                COMMENTOR\n              </p>\n              <a class=\"text-gray-500 text-xl\" href=\"#\"\n                ><i class=\"fa-solid fa-trash\"></i\n              ></a>\n            </div>\n            <p class=\"text-gray-400 text-sm\">20 April 2022, at 14:88 PM</p>\n          </div>\n        </div>\n        <p class=\"-mt-4 text-gray-500\">\n          Lorem ipsum dolor sit amet consectetur adipisicing elit. <br />Maxime\n          quisquam vero adipisci beatae voluptas dolor ame.\n        </p>\n      </div>\n    </div>\n    <p class=\"font-bold\">COMMENTS</p>\n    <form\n      @submit.prevent=\"ajouterCommentaire\"\n      class=\"w-full relative flex justify-between gap-2\"\n    >\n      <input\n        type=\"text\"\n        class=\"w-full py-3 px-5 rounded-lg border border-gray-300 bg-white shadow-[0px_1px_2px_0px_rgba(16,_24,_40,_0.05)] focus:outline-none text-gray-900 placeholder-gray-400 text-lg font-normal leading-relaxed\"\n        placeholder=\"Write comments here....\"\n        v-model=\"model.content\"\n      />\n      <a href=\"\" class=\"absolute right-6 top-[18px]\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"20\"\n          height=\"20\"\n          viewBox=\"0 0 20 20\"\n          fill=\"none\"\n        >\n          <path\n            d=\"M11.3011 8.69906L8.17808 11.8221M8.62402 12.5909L8.79264 12.8821C10.3882 15.638 11.1859 17.016 12.2575 16.9068C13.3291 16.7977 13.8326 15.2871 14.8397 12.2661L16.2842 7.93238C17.2041 5.17273 17.6641 3.79291 16.9357 3.06455C16.2073 2.33619 14.8275 2.79613 12.0679 3.71601L7.73416 5.16058C4.71311 6.16759 3.20259 6.6711 3.09342 7.7427C2.98425 8.81431 4.36221 9.61207 7.11813 11.2076L7.40938 11.3762C7.79182 11.5976 7.98303 11.7083 8.13747 11.8628C8.29191 12.0172 8.40261 12.2084 8.62402 12.5909Z\"\n            stroke=\"#111827\"\n            stroke-width=\"1.6\"\n            stroke-linecap=\"round\"\n          />\n        </svg>\n      </a>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { mapActions } from \"vuex\";\n\nexport default {\n  name: \"CommentView\",\n  props: {\n    id: Number,\n  },\n  data() {\n    return {\n      showModal: false,\n      model: {\n        content: \"\",\n      },\n    };\n  },\n  methods: {\n    ...mapActions(\"post\", [\"getPost\"]),\n    ...mapActions(\"cate\", [\"getCat\"]),\n    async ajouterCommentaire() {\n      try {\n        await axios.post(\n          \"http://localhost/wp-json/wp/v2/comments\",\n          {\n            post: this.id, // ID du post associé au commentaire\n            // author_name: this.nom,\n            content: this.model.content,\n          },\n          {\n            headers: {\n              Authorization:\n                \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODEiLCJpYXQiOjE3Mzc2NDc5NzEsIm5iZiI6MTczNzY0Nzk3MSwiZXhwIjoxNzM4MjUyNzcxLCJkYXRhIjp7InVzZXIiOnsiaWQiOiIxIn19fQ.vaUBWCHj9GslY_7b4wM2Q76cjhqFCnGYcDMEORM1i8A\",\n            },\n          }\n        );\n        this.model.content = \"\";\n      } catch (error) {\n        console.error(\"Erreur lors de l'ajout du commentaire:\", error);\n      }\n    },\n    async AddPost() {\n      await axios\n        .post(\n          \"http://localhost:8081/wp-json/wp/v2/posts\",\n          {\n            title: this.model.title,\n            content: this.model.description,\n            categories: this.id,\n            status: \"publish\",\n          },\n          {\n            headers: {\n              Authorization:\n                \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODEiLCJpYXQiOjE3Mzc2NDc5NzEsIm5iZiI6MTczNzY0Nzk3MSwiZXhwIjoxNzM4MjUyNzcxLCJkYXRhIjp7InVzZXIiOnsiaWQiOiIxIn19fQ.vaUBWCHj9GslY_7b4wM2Q76cjhqFCnGYcDMEORM1i8A\",\n            },\n          }\n        )\n        .then((res) => {\n          console.log(res.data);\n          this.showModal = false;\n          this.model.title = \"\";\n          this.model.description = \"\";\n          this.$store.dispatch(\"post/getPost\");\n          this.$store.dispatch(\"cate/getCat\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n};\n</script>\n"],"mappings":"AAmEA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,UAAS,QAAS,MAAM;AAEjC,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,KAAK,EAAE;IACLC,EAAE,EAAEC;EACN,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE;QACLC,OAAO,EAAE;MACX;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,GAAGT,UAAU,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,CAAC;IAClC,GAAGA,UAAU,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC;IACjC,MAAMU,kBAAkBA,CAAA,EAAG;MACzB,IAAI;QACF,MAAMX,KAAK,CAACY,IAAI,CACd,yCAAyC,EACzC;UACEA,IAAI,EAAE,IAAI,CAACR,EAAE;UAAE;UACf;UACAK,OAAO,EAAE,IAAI,CAACD,KAAK,CAACC;QACtB,CAAC,EACD;UACEI,OAAO,EAAE;YACPC,aAAa,EACX;UACJ;QACF,CACF,CAAC;QACD,IAAI,CAACN,KAAK,CAACC,OAAM,GAAI,EAAE;MACzB,EAAE,OAAOM,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;MAChE;IACF,CAAC;IACD,MAAME,OAAOA,CAAA,EAAG;MACd,MAAMjB,KAAI,CACPY,IAAI,CACH,2CAA2C,EAC3C;QACEM,KAAK,EAAE,IAAI,CAACV,KAAK,CAACU,KAAK;QACvBT,OAAO,EAAE,IAAI,CAACD,KAAK,CAACW,WAAW;QAC/BC,UAAU,EAAE,IAAI,CAAChB,EAAE;QACnBiB,MAAM,EAAE;MACV,CAAC,EACD;QACER,OAAO,EAAE;UACPC,aAAa,EACX;QACJ;MACF,CACF,EACCQ,IAAI,CAAEC,GAAG,IAAK;QACbP,OAAO,CAACQ,GAAG,CAACD,GAAG,CAACjB,IAAI,CAAC;QACrB,IAAI,CAACC,SAAQ,GAAI,KAAK;QACtB,IAAI,CAACC,KAAK,CAACU,KAAI,GAAI,EAAE;QACrB,IAAI,CAACV,KAAK,CAACW,WAAU,GAAI,EAAE;QAC3B,IAAI,CAACM,MAAM,CAACC,QAAQ,CAAC,cAAc,CAAC;QACpC,IAAI,CAACD,MAAM,CAACC,QAAQ,CAAC,aAAa,CAAC;MACrC,CAAC,EACAC,KAAK,CAAEC,GAAG,IAAK;QACdZ,OAAO,CAACQ,GAAG,CAACI,GAAG,CAAC;MAClB,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}